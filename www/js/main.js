"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),objectFitImages=function(){function e(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e+"' height='"+t+"'%3E%3C/svg%3E"}function t(e){if(e.srcset&&!m&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}function s(e){for(var t,s=getComputedStyle(e).fontFamily,i={};null!==(t=d.exec(s));)i[t[1]]=t[2];return i}function i(t,s,i){var r=e(s||1,i||0);y.call(t,"src")!==r&&p.call(t,"src",r)}function r(e,t){e.naturalWidth?t(e):setTimeout(r,100,e,t)}function c(e){var c=s(e),o=e[l];if(c["object-fit"]=c["object-fit"]||"fill",!o.img){if("fill"===c["object-fit"])return;if(!o.skipTest&&h&&!c["object-position"])return}if(!o.img){o.img=new Image(e.width,e.height),o.img.srcset=y.call(e,"data-ofi-srcset")||e.srcset,o.img.src=y.call(e,"data-ofi-src")||e.src,p.call(e,"data-ofi-src",e.src),e.srcset&&p.call(e,"data-ofi-srcset",e.srcset),i(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{n(e)}catch(e){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}t(o.img),e.style.backgroundImage='url("'+(o.img.currentSrc||o.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=c["object-position"]||"center",e.style.backgroundRepeat="no-repeat",e.style.backgroundOrigin="content-box",/scale-down/.test(c["object-fit"])?r(o.img,function(){o.img.naturalWidth>e.width||o.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"}):e.style.backgroundSize=c["object-fit"].replace("none","auto").replace("fill","100% 100%"),r(o.img,function(t){i(e,t.naturalWidth,t.naturalHeight)})}function n(e){var t={get:function(t){return e[l].img[t?t:"src"]},set:function(t,s){return e[l].img[s?s:"src"]=t,p.call(e,"data-ofi-"+s,t),c(e),t}};Object.defineProperty(e,"src",t),Object.defineProperty(e,"currentSrc",{get:function(){return t.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return t.get("srcset")},set:function(e){return t.set(e,"srcset")}})}function o(){function e(e,t){return e[l]&&e[l].img&&("src"===t||"srcset"===t)?e[l].img:e}g||(HTMLImageElement.prototype.getAttribute=function(t){return y.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,s){return p.call(e(this,t),t,String(s))})}function a(e,t){var s=!b&&!e;if(t=t||{},e=e||"img",g&&!t.skipTest||!f)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var i=0;i<e.length;i++)e[i][l]=e[i][l]||{skipTest:t.skipTest},c(e[i]);s&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&a(e.target,{skipTest:t.skipTest})},!0),b=!0,e="img"),t.watchMQ&&window.addEventListener("resize",a.bind(null,e,{skipTest:t.skipTest}))}var l="bfred-it:object-fit-images",d=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,u="undefined"==typeof Image?{style:{"object-position":1}}:new Image,h="object-fit"in u.style,g="object-position"in u.style,f="background-size"in u.style,m="string"==typeof u.currentSrc,y=u.getAttribute,p=u.setAttribute,b=!1;return a.supportsObjectFit=h,a.supportsObjectPosition=g,o(),a}(),SelectRequest=function(){function e(t){_classCallCheck(this,e),this.chooseBar=document.querySelector(t.chooseBar),this.current=document.querySelector(t.current),this.currentText=document.querySelector(t.currentText),this.select=document.querySelector(t.select),this.requestResult=!1}return _createClass(e,[{key:"showHideChooseBar",value:function(){event.target===this.currentText&&(this.chooseBar.classList.toggle("header__title-select-choose-bar_show"),this.current.classList.toggle("header__title-select-current_rotate"))}},{key:"choose",value:function(){for(var e="",t=0;t<this.chooseBar.childNodes.length;t++)event.target===this.chooseBar.childNodes[t]?(e=event.target.innerHTML,event.target.innerHTML=this.currentText.innerHTML,this.currentText.innerHTML=e,this.chooseBar.classList.remove("header__title-select-choose-bar_show"),this.current.classList.remove("header__title-select-current_rotate")):event.target!==this.currentText&&this.chooseBar.classList.remove("header__title-select-choose-bar_show")}},{key:"turnOn",value:function(){this.showHideChooseBar.call(this),this.choose.call(this)}},{key:"addListener",value:function(){document.addEventListener("click",this.turnOn.bind(this))}}]),e}();!function(){var e=new SelectRequest({chooseBar:".header__title-select-choose-bar",current:".header__title-select-current",currentText:".header__title-select-current-text",select:".header__title-select"});e.addListener()}();var CurrencyRequest=function(){function e(){_classCallCheck(this,e),this.requestBodyes={ethereum:{USD:"ETHUSD",EUR:"ETHEUR",RUB:"ETHRUB",GBP:"ETHGBP"},litecoin:{USD:"LTCUSD",EUR:"LTCEUR",RUB:"LTCRUB",GBP:"LTCGBP"},bitcoin:{USD:"BTCUSD",EUR:"BTCEUR",RUB:"BTCRUB",GBP:"BTCGBP"}},this.currencySymbols={USD:"&#36;",EUR:"&euro;",RUB:"&#x20bd;",GBP:"&pound;"},this.cryptNames={ethereum:"ethereum",litecoin:"litecoin",bitcoin:"bitcoin"}}return _createClass(e,[{key:"request",value:function(e,t,s){var i=this,r="https://apiv2.bitcoinaverage.com/indices/global/ticker/"+e;fetch(r).then(function(e){return e.json()}).then(function(e){var r=document.querySelector("#"+t+"-data-values");i.percentChange(t),r.childNodes[0].innerHTML=s+" "+String(e.ask.toFixed(2)).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g,"$1 "),r.childNodes[2].innerHTML=i.addClass(String(e.changes.price.hour.toFixed(2)),r.childNodes[2])+" "+s,r.childNodes[3].innerHTML=i.addClass(String(e.changes.percent.hour.toFixed(2)),r.childNodes[3])+" %",r.childNodes[4].innerHTML=i.addClass(String(e.changes.price.day.toFixed(2)),r.childNodes[4])+" "+s,r.childNodes[5].innerHTML=i.addClass(String(e.changes.percent.day.toFixed(2)),r.childNodes[5])+" %",r.childNodes[6].innerHTML=i.addClass(String(e.changes.price.week.toFixed(2)),r.childNodes[6])+" "+s,r.childNodes[7].innerHTML=i.addClass(String(e.changes.percent.week.toFixed(2)),r.childNodes[7])+" %",r.childNodes[8].innerHTML=i.addClass(String(e.changes.price.month.toFixed(2)),r.childNodes[8])+" "+s,r.childNodes[9].innerHTML=i.addClass(String(e.changes.percent.month.toFixed(2)),r.childNodes[9])+" %"})["catch"](function(e){console.error(e)})}},{key:"addClass",value:function(e,t){return e>0?(t.classList.add("positive"),"+"+e):e<0?(t.classList.add("negative"),e):e}},{key:"percentChange",value:function(e){var t=document.querySelector("#"+e+"-percent-input"),s=document.querySelector("#"+e+"-data-values");t.checked===!0?(s.childNodes[2].classList.add("hide"),s.childNodes[3].classList.remove("hide"),s.childNodes[4].classList.add("hide"),s.childNodes[5].classList.remove("hide"),s.childNodes[6].classList.add("hide"),s.childNodes[7].classList.remove("hide"),s.childNodes[8].classList.add("hide"),s.childNodes[9].classList.remove("hide")):(s.childNodes[2].classList.remove("hide"),s.childNodes[3].classList.add("hide"),s.childNodes[4].classList.remove("hide"),s.childNodes[5].classList.add("hide"),s.childNodes[6].classList.remove("hide"),s.childNodes[7].classList.add("hide"),s.childNodes[8].classList.remove("hide"),s.childNodes[9].classList.add("hide"))}},{key:"listenInputs",value:function(){document.querySelector(".results").addEventListener("change",function(){switch(event.target){case document.querySelector("#ethereum-percent-input"):this.percentChange("ethereum");break;case document.querySelector("#litecoin-percent-input"):this.percentChange("litecoin");break;case document.querySelector("#bitcoin-percent-input"):this.percentChange("bitcoin")}}.bind(this))}},{key:"requestCurrency",value:function(e){this.request(this.requestBodyes.ethereum[e],this.cryptNames.ethereum,this.currencySymbols[e]),this.request(this.requestBodyes.litecoin[e],this.cryptNames.litecoin,this.currencySymbols[e]),this.request(this.requestBodyes.bitcoin[e],this.cryptNames.bitcoin,this.currencySymbols[e])}},{key:"selectListen",value:function(){document.querySelector(".header__title-select-choose-bar").addEventListener("click",function(){switch(event.target.innerHTML){case"USD":this.requestCurrency.call(this,"USD");break;case"EUR":this.requestCurrency.call(this,"EUR");break;case"RUB":this.requestCurrency.call(this,"RUB");break;case"GBP":this.requestCurrency.call(this,"GBP")}}.bind(this))}},{key:"turnOn",value:function(){this.requestCurrency("USD"),this.selectListen(),this.listenInputs()}}]),e}();!function(){var e=new CurrencyRequest;e.turnOn()}();